<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHARACTER - ゆるデュオ△</title>
    <!-- 共通CSSの読み込み -->
    <link rel="stylesheet" href="style.css">
    <style>
        /* --- CHARACTERページ固有のスタイル --- */
        .char-main {
            position: relative;
            min-height: 950px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 10px;
        }

        /* 背景の巨大縦書きテキスト
        .bg-vertical-text {
            position: absolute;
            left: 5%;
            top: 55%;
            transform: translateY(-50%);
            font-size: clamp(4rem, 10vw, 8rem);
            font-weight: bold;
            color: var(--accent-color);
            opacity: 0.08;
            writing-mode: vertical-rl;
            z-index: 0;
            pointer-events: none;
            transition: color var(--transition-speed), opacity 0.5s;
        } */

        /* --- キャラクター選択エリア --- */
        .char-selector-horizontal {
            width: 100%;
            max-width: 950px;
            margin: 10px 0 20px;
            display: flex;
            justify-content: flex-start;
            gap: 12px;
            padding: 15px;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) transparent;
            z-index: 20;
        }

        .char-selector-horizontal::-webkit-scrollbar {
            height: 4px;
        }
        .char-selector-horizontal::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 10px;
        }

        .selector-thumb {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            border: 3px solid transparent;
            cursor: pointer;
            overflow: hidden;
            background: var(--card-bg);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            flex-shrink: 0;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .selector-thumb.active {
            border-color: var(--accent-color);
            transform: scale(1.15);
            box-shadow: 0 0 15px var(--accent-color);
        }

        .selector-thumb img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        }

        /* --- 中央のキャラクター表示エリア --- */
        .char-view-container {
            position: relative;
            z-index: 5;
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .char-main-visual {
            height: 55vh;
            min-height: 400px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }

        .char-main-visual img {
            height: 100%;
            width: auto;
            max-width: 100%;
            object-fit: contain;
            filter: drop-shadow(0 15px 35px rgba(0,0,0,0.15));
            transition: filter var(--transition-speed), opacity 0.3s ease-in-out;
            opacity: 1;
        }

        /* 異界モード演出
        body.unsung-mode .char-main-visual img {
            filter: grayscale(0.5) contrast(1.3) brightness(0.6) hue-rotate(180deg) drop-shadow(0 15px 35px rgba(142, 68, 173, 0.4));
        } */

        /* 表情切り替えドットボタン
        .expression-controls {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
            border-radius: 30px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: background var(--transition-speed);
        }

        body.unsung-mode .expression-controls {
            background: rgba(0, 0, 0, 0.2);
        }

        .exp-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 2px solid var(--accent-color);
            background: transparent;
            cursor: pointer;
            transition: all 0.3s;
            padding: 0;
            outline: none;
        }

        .exp-dot.active {
            background: var(--accent-color);
            transform: scale(1.3);
        } */

        /* 左右ナビゲーション矢印 */
        .nav-arrow {
            position: absolute;
            top: 45%;
            transform: translateY(-50%);
            font-size: 3.5rem;
            color: var(--accent-color);
            cursor: pointer;
            opacity: 0.15;
            transition: opacity 0.3s, transform 0.3s;
            z-index: 30;
            user-select: none;
        }
        .nav-arrow:hover { opacity: 0.7; transform: translateY(-50%) scale(1.1); }
        .arrow-prev { left: 0; }
        .arrow-next { right: 0; }

        /* 情報カード */
        .char-info-container {
            width: 100%;
            max-width: 750px;
            margin: 40px auto 60px;
            z-index: 10;
        }

        .char-info-card {
            min-height: 200px;
        }

        .char-name-title {
            font-size: 1.8rem;
            color: var(--accent-color);
            margin-bottom: 15px;
            transition: color var(--transition-speed);
            display: flex;
            align-items: flex-end;
            gap: 12px;
            flex-wrap: wrap;
        }

        .char-ruby {
            font-size: 0.8rem;
            font-weight: bold;
            letter-spacing: 0.2rem;
            opacity: 0.6;
            display: block;
            margin-bottom: 2px;
        }

        #char-desc {
            white-space: pre-wrap;
            line-height: 1.8;
        }

        @media (max-width: 900px) {
            .nav-arrow { display: none; }
            .bg-vertical-text { display: none; }
        }
    </style>
</head>
<body>

    <header class="site-header container">
        <h1 class="logo-title">ゆるデュオ△</h1>
        <nav class="main-nav">
            <a href="index.html" class="nav-item">Top</a>
            <a href="news.html" class="nav-item">News</a>
            <a href="story.html" class="nav-item">Story</a>
            <a href="character.html" class="nav-item active">Character</a>
            <a href="world.html" class="nav-item">World</a>
            <a href="movie.html" class="nav-item">Movie</a>
        </nav>
    </header>

    <main class="container char-main">
        <!-- キャラクター選択リスト -->
        <div class="char-selector-horizontal" id="char-selector">
            <!-- JavaScriptで動的生成 -->
        </div>

        <!-- <div id="char-bg-name" class="bg-vertical-text">蛇場見マコト</div> -->

        <!-- 矢印ボタン -->
        <div class="nav-arrow arrow-prev" onclick="prevChar()">＜</div>
        <div class="nav-arrow arrow-next" onclick="nextChar()">＞</div>

        <!-- 表示エリア -->
        <div class="char-view-container">
            <div class="char-main-visual" id="char-visual">
                <img src="" alt="立ち絵" id="main-img" style="opacity: 0;">
            </div>

            <!-- 表情ドットボタン -->
            <div class="expression-controls" id="exp-controls">
                <!-- JavaScriptで動的生成 -->
            </div>
        </div>

        <!-- 情報カード -->
        <section class="char-info-container">
            <div class="card char-info-card">
                <span class="char-ruby" id="char-ruby">HEBIBAMI MAKOTO</span>
                <h2 class="char-name-title">
                    <span id="char-name">蛇場見 マコト</span>
                </h2>
                <p id="char-desc"></p>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <p>&copy; ゆるデュオ△ 制作委員会 / Unsung Duet Project</p>
    </footer>

    <button class="mode-toggle" title="世界を反転させる" onclick="toggleMode()">
        <span id="toggle-icon">△</span>
    </button>

    <script>
        const characters = [
            {
                name: "蛇場見 マコト",
                ruby: "HEBIBAMI MAKOTO",
                bgName: "蛇場見マコト",
                desc: "我らが主人公。7歳の時の事故で脳以外の全てを失うが、なでこから体を譲り受け奇跡の生還を遂げた。異界では大切な人を現実へ繋ぎ止める「バインダー」の役割を担う。明るく優しい性格だが、なでこが危険な目にあった時は怒りをあらわにすることも。",
                images: [
                    "04_assets/Character/makoto/makoto1.png", 
                    "04_assets/Character/makoto/makoto2.png", 
                    "04_assets/Character/makoto/makoto3.png"
                ]
            },
            {
                name: "川根 なでこ",
                ruby: "KAWANE NADEKO",
                bgName: "川根なでこ",
                desc: "マコトを救うために自らの体を差し出し、現在は機械の体で生活を送る高校3年生。外クルに所属するキャンプの達人で、料理の腕前もプロ級。異界の真の姿を視る「シフター」としての適性を持ち、マコトを喜ばせるためのサプライズ満載な旅の計画を立てるのが大好き。",
                images: [
                    "04_assets/Character/nadeko/なでこ立ち絵_お守り.png", 
                    "04_assets/Character/nadeko/なでこ立ち絵にっこり_お守り.png", 
                    "04_assets/Character/nadeko/なでこ立ち絵ピンチ_お守り.png"
                ]
            },
            {
                name: "蛇場見 ユーリ",
                ruby: "HEBIBAMI YURI",
                bgName: "蛇場見ユーリ",
                desc: "マコトの父親で、なでこと取引をして彼女の体をマコトに適合させた脳外科医。娘を溺愛する「マコトちゃん甘やかし隊」の隊長で、マコトとなでこの旅を陰ながら支えている。趣味は登山とジョジョの解説動画の視聴および自身での動画投稿。異界や魔術に対して警戒心を持ちつつ、マコトたちの成長を温かく見守っている。",
                images: [
                    "04_assets/Character/yuri/yuri01.png"
                ]
            },
            {
                name: "エヴィ",
                ruby: "EVIE D. MANCHESTER",
                bgName: "エヴィ",
                desc: "イングランドの名門魔術師の家系に生まれた、マコトと同い年の10歳の魔術師。清里での出会いを通じてマコトとなでこと親友になり、今では日本語で日常会話ができるほど勉強熱心。三人の「お揃いのストール」を宝物にしており、マコトたちとの時間を何よりも大切にしている。",
                images: [
                    "04_assets/Character/evi/evi01.png", 
                    "04_assets/Character/evi/evi02.png", 
                    "04_assets/Character/evi/evi03.png"
                ]
            },
            {
                name: "蛇崩 あかり",
                ruby: "JAKUZURE AKARI",
                bgName: "蛇崩あかり",
                desc: "伊豆の異界で出会った、「体を譲ってもらえなかった未来」のもう一人のマコト。かつては異界に囚われていたが、なでことマコトの手により念願の花見を叶えて救われた。現在は「桜の枝」にその魂を宿しており、二人と一緒に過ごしている。",
                images: [
                    "04_assets/Character/akari/akari01.png", 
                    "04_assets/Character/akari/akari04.png", 
                    "04_assets/Character/akari/akari03.png"
                ]
            },
            {
                name: "名護 あわも",
                ruby: "NAGO AWAMO",
                bgName: "名護あわも",
                desc: "ヴェネツィアで出会った沖縄出身の少女。実家は沖縄でキャンプ場を経営しており、両親の過保護な観光プランから逃げ出した先でマコトたちと知り合った。なでこが見せたシャボン玉のマジックに感動し、今度は地元の沖縄へ二人を招待することを約束した新しい友達。",
                images: [
                    "04_assets/Character/awamo/awamo01.png", 
                    "04_assets/Character/awamo/awamo02.png", 
                    "04_assets/Character/awamo/awamo03.png"
                ]
            },
            {
                name: "口坂本 麻利絵",
                ruby: "KUCHISAKAMOTO MARIE",
                bgName: "口坂本麻利絵",
                desc: "三日月財団日本支部に所属する、ふんわりとした長い金髪がトレードマークの関西弁女性。異界の調査や保護を任務としており、右も左もわからなかったマコトたちにバインダーやシフターの知識を授けたガイド役。有能なスタッフとして、財団に舞い込む異界の謎に日々立ち向かっている。",
                images: ["04_assets/Character/marie/marie01.png"]
            },
            {
                name: "富士宮 梅子",
                ruby: "FUJINOMIYA UMEKO",
                bgName: "富士宮梅子",
                desc: "三日月財団日本支部のエージェントで、麻利絵の相棒。仕事は非常に優秀だが、重度の「幼女好き」という危うい一面を持ち、マコトたちの交流を物陰から「はすはす」しながら見守るのが日課。財団の利益以上にマコトたちの味方であることを公言し、24時間体制で相談を受け付ける熱意を持つ。",
                images: ["04_assets/Character/umeko/umeko01.png"]
            },
            {
                name: "島田 リン",
                ruby: "SHIMADA RIN",
                bgName: "島田リン",
                desc: "原付バイクで各地を旅する、なでこの親友のソロキャンパー。クールな性格だが、マコトと出会って以降、様子の変わったなでこのことを気にかけている。マコトとなでこの関係を温かく見守っている。",
                images: ["04_assets/Character/shimadarin/rin01.png"]
            },
            {
                name: "斎藤 ゆい",
                ruby: "SAITO YUI",
                bgName: "斎藤ゆい",
                desc: "なでこたちの友人で、自由奔放な性格。外クルの部員ではないが活動には頻繁に顔を出し、マコトとなでこが瓜二つであることを「クローンの実験体」などと言って面白がっている。",
                images: ["04_assets/Character/saitoyui/yui01.png"]
            },
            {
                name: "清水 葵",
                ruby: "SHIMIZU AOI",
                bgName: "清水葵",
                desc: "なでこが所属するアウトドアの部活「外クル」の部員で、おっとりした関西弁が特徴の少女。なでこの変化を敏感に察しており、マコトとの絆を「実質家族」として祝福している。",
                images: ["04_assets/Character/shimizuaoi/aoi01.png"]
            },
            {
                name: "磐田 千明",
                ruby: "IWATA CHIAKI",
                bgName: "磐田千明",
                desc: "アウトドアの部活「外クル」の部長を務める、元気いっぱいで行動力あふれる少女。マコトのノリの良さを気に入り、将来のエース部員として熱烈に勧誘している。部全体を引っ張る頼もしいリーダー。",
                images: ["04_assets/Character/iwatachiaki/chiaki01.png"]
            }
        ];

        let currentCharIdx = 0;
        let currentExpIdx = 0;

        function updateDisplay() {
            const char = characters[currentCharIdx];
            document.getElementById('char-name').innerText = char.name;
            document.getElementById('char-ruby').innerText = char.ruby;
            document.getElementById('char-bg-name').innerText = char.bgName;
            document.getElementById('char-desc').innerText = char.desc;

            const img = document.getElementById('main-img');
            img.style.opacity = 0;
            setTimeout(() => {
                img.src = char.images[currentExpIdx] || "https://placehold.jp/300x500.png?text=No+Image";
                img.style.opacity = 1;
            }, 100);

            renderDots();

            // セレクターのアクティブ管理
            const thumbs = document.querySelectorAll('.selector-thumb');
            thumbs.forEach((t, i) => {
                if(i === currentCharIdx) {
                    t.classList.add('active');
                    t.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                } else t.classList.remove('active');
            });
        }

        function renderDots() {
            const container = document.getElementById('exp-controls');
            container.innerHTML = '';
            const char = characters[currentCharIdx];
            
            char.images.forEach((_, i) => {
                const dot = document.createElement('button');
                dot.className = `exp-dot ${i === currentExpIdx ? 'active' : ''}`;
                dot.onclick = (e) => {
                    e.stopPropagation();
                    currentExpIdx = i;
                    updateDisplay();
                };
                container.appendChild(dot);
            });
        }

        function selectChar(index) {
            currentCharIdx = index;
            currentExpIdx = 0;
            updateDisplay();
        }

        function nextChar() { selectChar((currentCharIdx + 1) % characters.length); }
        function prevChar() { selectChar((currentCharIdx - 1 + characters.length) % characters.length); }

        function toggleMode() {
            const isUnsung = document.body.classList.toggle('unsung-mode');
            document.getElementById('toggle-icon').innerText = isUnsung ? '●' : '△';
        }

        window.onload = () => {
            const selector = document.getElementById('char-selector');
            characters.forEach((char, i) => {
                const thumb = document.createElement('div');
                thumb.className = 'selector-thumb' + (i === 0 ? ' active' : '');
                thumb.onclick = () => selectChar(i);
                thumb.innerHTML = `<img src="${char.images[0]}" alt="${char.name}">`;
                selector.appendChild(thumb);
            });
            updateDisplay();
        };
    </script>
</body>

</html>



